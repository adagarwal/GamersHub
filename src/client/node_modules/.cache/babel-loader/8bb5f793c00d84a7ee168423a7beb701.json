{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/anuragsengupta/Desktop/CS-297P/GamersHubTesting/GamersHub/src/client/src/components/dashboard/FollowedCarousel.js\";\nimport React, { Component } from \"react\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport Slider from \"react-slick\";\nimport axios from \"axios\";\nimport Card from \"@material-ui/core/Card\";\n\nclass FollowedStreamers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: null,\n      dataset: [],\n      thumbs: [],\n      total: 0,\n      viewers: 0,\n      thumbsReco: [],\n      recoName: []\n    };\n  }\n\n  async componentDidMount() {\n    const setState = this.setState.bind(this);\n    const endpoint = \"https://api.twitch.tv/helix/users/follows?from_id=\" + this.props.uid;\n    const getUserEndPoint = \"https://api.twitch.tv/helix/users?id=\" + this.props.uid;\n    const getstreamendpoint = \"https://api.twitch.tv/helix/search/channels\";\n    const authcode = \"Bearer \" + this.props.acc_token;\n    const resp = await axios.get(endpoint, {\n      headers: {\n        'Client-ID': 'd2qvua62wbnmd2falukeg1lqdvefpq',\n        'Authorization': authcode\n      }\n    });\n    const respUser = await axios.get(getUserEndPoint, {\n      headers: {\n        'Client-ID': 'd2qvua62wbnmd2falukeg1lqdvefpq',\n        'Authorization': authcode\n      }\n    });\n    console.log(\"ADITYA DEBUG: \" + JSON.stringify(respUser.data.data));\n    const total = JSON.parse(JSON.stringify(resp.data.total));\n    const viewers = JSON.parse(JSON.stringify(respUser.data.data[0].view_count));\n    const jsonData = JSON.parse(JSON.stringify(resp.data.data));\n    const channelId = [];\n    const gameId = [];\n    const thumbsReco = [];\n    const recoName = [];\n    console.log(\"ADITYA DEBUG TOTAL: \" + total);\n\n    for (let i = 0; i < total; i++) {\n      let name = jsonData[i].to_name;\n      let abc = getstreamendpoint + \"?query=\" + name;\n      const tresp = await axios.get(abc, {\n        headers: {\n          'Client-ID': 'd2qvua62wbnmd2falukeg1lqdvefpq',\n          'Authorization': authcode\n        }\n      });\n      let tresp_jsonData = JSON.parse(JSON.stringify(tresp.data));\n      let thumb_data = tresp_jsonData.data[0].thumbnail_url;\n      this.state.thumbs[i] = thumb_data;\n      channelId[i] = jsonData[i].to_id;\n      gameId[i] = tresp_jsonData.data[0].game_id;\n      console.log(\"Json Data: \" + i + \" : \" + JSON.stringify(tresp_jsonData.data[0]));\n    }\n\n    for (let i = 0; i < total; i++) {\n      let game = gameId[i];\n      let reco = \"https://api.twitch.tv/helix/streams?first=5&game_id=\" + game;\n      const recoResp = await axios.get(reco, {\n        headers: {\n          'Client-ID': 'd2qvua62wbnmd2falukeg1lqdvefpq',\n          'Authorization': authcode\n        }\n      });\n      const size = recoResp.data.data.length;\n\n      for (let j = 0; j < size; j++) {\n        const recoData = recoResp.data.data[j];\n\n        if (!channelId.includes(recoData.user_id)) {\n          thumbsReco.push(recoData.thumbnail_url);\n          recoName.push(recoData.user_name);\n        }\n      }\n    }\n\n    setState({\n      data: resp.data,\n      total: total,\n      viewers: viewers,\n      thumbsReco: thumbsReco,\n      recoName: recoName\n    });\n  }\n\n  render() {\n    console.log(\"FOLLOWED AT: \" + this.props.acc_token);\n    console.log(\"FOLLOWED USERID: \" + this.props.uid);\n\n    if (this.state.data == null) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 20\n      }, this);\n    }\n\n    const total = JSON.parse(JSON.stringify(this.state.data.total));\n    console.log(\"TOTAL ENTRIES: \" + total);\n    const jsonData = JSON.parse(JSON.stringify(this.state.data.data));\n    const urls = [];\n    const reco_urls = [];\n\n    for (let i = 0; i < total; i++) {\n      if (jsonData[i].to_name != null) {\n        let name = jsonData[i].to_name;\n        let redirectUrl = name;\n        urls.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => {\n            this.props.openModal(\"http://player.twitch.tv/?channel=\" + redirectUrl + \"&parent=localhost\");\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            title: name,\n            src: this.state.thumbs[i],\n            className: \"image\",\n            style: {\n              height: \"20vh\",\n              width: \"30vh\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 27\n        }, this));\n      }\n    }\n\n    for (let j = 0; j < this.state.thumbsReco.length; j++) {\n      let thumbnail = this.state.thumbsReco[j];\n      let recoName = this.state.recoName[j];\n\n      if (thumbnail != null) {\n        thumbnail = thumbnail.replace('{width}', '600');\n        thumbnail = thumbnail.replace('{height}', '400');\n        reco_urls.push( /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => {\n            this.props.openModal(\"http://player.twitch.tv/?channel=\" + recoName + \"&parent=localhost\");\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: thumbnail,\n            className: \"image\",\n            style: {\n              height: \"20vh\",\n              width: \"35vh\"\n            },\n            \"data-toggle\": \"modal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 21\n          }, this)\n        }, j, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 32\n        }, this));\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col col-sm-4\",\n        style: {\n          paddingLeft: \"5vh\",\n          display: \"inline\",\n          paddingTop: \"3vh\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          variant: \"outlined\",\n          style: {\n            borderRadius: \"25px\",\n            width: \"350px\",\n            height: \"350px\",\n            color: \"#7289da\",\n            backgroundColor: \"#23272a\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: \"150px\"\n            },\n            children: [\"Subsriptions: \", this.state.total]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col col-sm-4\",\n        style: {\n          paddingLeft: \"30vh\",\n          display: \"inline\",\n          paddingTop: \"3vh\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          variant: \"outlined\",\n          style: {\n            borderRadius: \"25px\",\n            width: \"350px\",\n            height: \"350px\",\n            color: \"#7289da\",\n            backgroundColor: \"#23272a\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: \"150px\"\n            },\n            children: [\"Viewers: \", this.state.viewers]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col col-sm-4\",\n        style: {\n          paddingLeft: \"30vh\",\n          display: \"inline\",\n          paddingTop: \"3vh\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          variant: \"outlined\",\n          style: {\n            borderRadius: \"25px\",\n            width: \"350px\",\n            height: \"350px\",\n            color: \"#7289da\",\n            backgroundColor: \"#23272a\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: \"150px\"\n            },\n            children: [\"Subsriptions: \", this.state.total]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col s10\",\n        style: {\n          paddingLeft: \"5vh\",\n          paddingTop: \"3vh\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"left-align\",\n          style: {\n            color: \"#7289da\",\n            backgroundColor: \"#23272a\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Followed Streamers\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 102\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"FollowedCarousel\",\n          children: /*#__PURE__*/_jsxDEV(Slider, {\n            dots: true,\n            slidesToShow: 4,\n            arrows: true,\n            children: urls\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col s10\",\n        style: {\n          paddingLeft: \"5vh\",\n          paddingTop: \"3vh\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"left-align\",\n          style: {\n            color: \"#7289da\",\n            backgroundColor: \"#23272a\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Recommended Live Streams\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 102\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"FollowedCarousel\",\n          children: /*#__PURE__*/_jsxDEV(Slider, {\n            dots: true,\n            slidesToShow: 4,\n            arrows: true,\n            children: reco_urls\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default FollowedStreamers;","map":{"version":3,"sources":["/Users/anuragsengupta/Desktop/CS-297P/GamersHubTesting/GamersHub/src/client/src/components/dashboard/FollowedCarousel.js"],"names":["React","Component","Slider","axios","Card","FollowedStreamers","constructor","props","state","data","dataset","thumbs","total","viewers","thumbsReco","recoName","componentDidMount","setState","bind","endpoint","uid","getUserEndPoint","getstreamendpoint","authcode","acc_token","resp","get","headers","respUser","console","log","JSON","stringify","parse","view_count","jsonData","channelId","gameId","i","name","to_name","abc","tresp","tresp_jsonData","thumb_data","thumbnail_url","to_id","game_id","game","reco","recoResp","size","length","j","recoData","includes","user_id","push","user_name","render","urls","reco_urls","redirectUrl","openModal","height","width","thumbnail","replace","paddingLeft","display","paddingTop","borderRadius","color","backgroundColor","marginTop"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\";\n\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\n\nimport Slider from \"react-slick\";\nimport axios from \"axios\";\nimport Card from \"@material-ui/core/Card\";\n\nclass FollowedStreamers extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data:null,\n            dataset:[],\n            thumbs:[],\n            total:0,\n            viewers:0,\n            thumbsReco:[],\n            recoName:[]\n        }\n    }\n\n    async componentDidMount() {\n\n        const setState = this.setState.bind(this)\n        const endpoint = \"https://api.twitch.tv/helix/users/follows?from_id=\"+this.props.uid;\n        const getUserEndPoint = \"https://api.twitch.tv/helix/users?id=\"+this.props.uid;\n        const getstreamendpoint = \"https://api.twitch.tv/helix/search/channels\"\n        const authcode = \"Bearer \" + this.props.acc_token;\n        const resp = await axios.get(endpoint,{headers: {'Client-ID': 'd2qvua62wbnmd2falukeg1lqdvefpq','Authorization':authcode}});\n        const respUser = await axios.get(getUserEndPoint,{headers: {'Client-ID': 'd2qvua62wbnmd2falukeg1lqdvefpq','Authorization':authcode}});\n        console.log(\"ADITYA DEBUG: \" + JSON.stringify(respUser.data.data));\n        const total = JSON.parse(JSON.stringify(resp.data.total));\n        const viewers = JSON.parse(JSON.stringify(respUser.data.data[0].view_count))\n        const jsonData = JSON.parse(JSON.stringify(resp.data.data));\n        const channelId = []\n        const gameId = []\n        const thumbsReco = []\n        const recoName = []\n        console.log(\"ADITYA DEBUG TOTAL: \" + total);\n        for (let i=0; i < total; i++) {\n            let name = jsonData[i].to_name;\n            let abc = getstreamendpoint + \"?query=\" + name;\n            const tresp = await axios.get(abc, {headers: {'Client-ID': 'd2qvua62wbnmd2falukeg1lqdvefpq','Authorization':authcode}});\n            let tresp_jsonData = JSON.parse(JSON.stringify(tresp.data));\n            let thumb_data = tresp_jsonData.data[0].thumbnail_url;\n            this.state.thumbs[i] = thumb_data;\n            channelId[i] = jsonData[i].to_id;\n            gameId[i] = tresp_jsonData.data[0].game_id;\n            console.log(\"Json Data: \"+ i + \" : \"+JSON.stringify(tresp_jsonData.data[0]));\n        }\n\n        for (let i=0; i<total; i++){\n            let game = gameId[i];\n            let reco = \"https://api.twitch.tv/helix/streams?first=5&game_id=\" + game;\n            const recoResp = await axios.get(reco, {headers: {'Client-ID': 'd2qvua62wbnmd2falukeg1lqdvefpq','Authorization':authcode}});\n            const size = recoResp.data.data.length;\n            for (let j=0; j<size; j++){\n                const recoData = recoResp.data.data[j];\n                if(!channelId.includes(recoData.user_id)){\n                    thumbsReco.push(recoData.thumbnail_url);\n                    recoName.push(recoData.user_name);\n                }\n            }\n        }\n\n        setState({\n            data:resp.data,\n            total:total,\n            viewers:viewers,\n            thumbsReco:thumbsReco,\n            recoName:recoName\n        })\n    }\n\n    render(){\n        console.log(\"FOLLOWED AT: \" + this.props.acc_token);\n        console.log(\"FOLLOWED USERID: \" + this.props.uid);\n        if(this.state.data == null){\n            return(<div>Loading</div>);\n        }\n\n        const total = JSON.parse(JSON.stringify(this.state.data.total));\n        console.log(\"TOTAL ENTRIES: \" + total);\n        const jsonData = JSON.parse(JSON.stringify(this.state.data.data));\n        const urls = []\n        const reco_urls = []\n        for (let i=0; i<total; i++){\n            if(jsonData[i].to_name !=null ){\n                let name = jsonData[i].to_name;\n\n                let redirectUrl = name;\n\n                urls.push(<div key={i} onClick={() => {this.props.openModal(\"http://player.twitch.tv/?channel=\"+redirectUrl+\"&parent=localhost\")}}>\n                    <img title={name} src={this.state.thumbs[i]} className=\"image\" style={{height:\"20vh\", width:\"30vh\"}}></img></div>)\n            }\n        }\n\n        for (let j=0; j<this.state.thumbsReco.length; j++){\n            let thumbnail = this.state.thumbsReco[j];\n            let recoName = this.state.recoName[j];\n            if (thumbnail != null) {\n                thumbnail = thumbnail.replace('{width}','600');\n                thumbnail = thumbnail.replace('{height}','400');\n                reco_urls.push(<div key={j} onClick={() => {this.props.openModal(\"http://player.twitch.tv/?channel=\"+recoName+\"&parent=localhost\")}}>\n                    <img src={thumbnail} className=\"image\" style={{height:\"20vh\", width:\"35vh\"}} data-toggle=\"modal\">\n                    </img></div>)\n            }\n        }\n\n        return (\n            <div>\n                <div className=\"col col-sm-4\" style={{ paddingLeft: \"5vh\", display:\"inline\", paddingTop:\"3vh\"}}>\n                    <Card variant={\"outlined\"} style={{borderRadius:\"25px\",\n                        width:\"350px\",\n                        height:\"350px\", color: \"#7289da\", backgroundColor: \"#23272a\"}}>\n                        <h3 style={{marginTop:\"150px\"}}>Subsriptions: {this.state.total}</h3>\n                    </Card>\n                </div>\n                <div className=\"col col-sm-4\" style={{ paddingLeft: \"30vh\", display:\"inline\", paddingTop:\"3vh\"}}>\n                    <Card variant={\"outlined\"} style={{borderRadius:\"25px\",\n                        width:\"350px\",\n                        height:\"350px\", color: \"#7289da\", backgroundColor: \"#23272a\"}}>\n                        <h3 style={{marginTop:\"150px\"}}>Viewers: {this.state.viewers}</h3>\n                    </Card>\n                </div>\n                <div className=\"col col-sm-4\" style={{ paddingLeft: \"30vh\", display:\"inline\", paddingTop:\"3vh\"}}>\n                    <Card variant={\"outlined\"} style={{borderRadius:\"25px\",\n                        width:\"350px\",\n                        height:\"350px\", color: \"#7289da\", backgroundColor: \"#23272a\"}}>\n                        <h3 style={{marginTop:\"150px\"}}>Subsriptions: {this.state.total}</h3>\n                    </Card>\n                </div>\n                <div className=\"col s10\" style={{ paddingLeft: \"5vh\", paddingTop: \"3vh\"}}>\n                    <h6 className=\"left-align\" style={{color:\"#7289da\", backgroundColor: \"#23272a\"}}><b>Followed Streamers</b></h6>\n                    <div className=\"FollowedCarousel\" >\n                        <Slider dots={true} slidesToShow={4} arrows={true}>\n                            {urls}\n                        </Slider>\n                    </div>\n                </div>\n                <div className=\"col s10\" style={{ paddingLeft: \"5vh\", paddingTop: \"3vh\"}}>\n                    <h6 className=\"left-align\" style={{color:\"#7289da\", backgroundColor: \"#23272a\"}}><b>Recommended Live Streams</b></h6>\n                    <div className=\"FollowedCarousel\" >\n                        <Slider dots={true} slidesToShow={4} arrows={true}>\n                            {reco_urls}\n                        </Slider>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default FollowedStreamers;"]},"metadata":{},"sourceType":"module"}