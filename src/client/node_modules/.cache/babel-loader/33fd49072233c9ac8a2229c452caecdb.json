{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/anuragsengupta/Desktop/CS-297P/GamersHubTesting/GamersHub/src/client/src/components/dashboard/TwitchHome.js\";\nimport axios from \"axios\";\nimport React, { Component } from \"react\";\nimport HeaderBar from './Header.js';\nimport NavPane from './NavPane.js';\nimport jwt_decode from \"jwt-decode\";\nimport FollowedStreamers from \"./FollowedCarousel.js\";\n\nvar ls = require('local-storage');\n\nclass TwitchHome extends Component {\n  constructor() {\n    super();\n    this.state = {\n      buttonClicked: false,\n      done: null,\n      atk: null,\n      local_access_token: null,\n      local_user_id: null,\n      showComponent: false,\n      url: null\n    };\n    this.playVideo = this.playVideo.bind(this);\n    this.closeVideo = this.closeVideo.bind(this);\n  }\n\n  playVideo(url) {\n    console.log(\"Image clicked!\");\n    this.setState({\n      showComponent: true,\n      url: url\n    });\n  }\n\n  closeVideo() {\n    this.setState({\n      showComponent: false\n    });\n  }\n\n  setOnClick() {\n    console.log(\"REDIRECT: \" + document.body.baseURI);\n    ls.set(\"bar\", 1);\n    return;\n  }\n\n  setOnClickS1() {\n    ls.set(\"bar\", 2);\n    return;\n  }\n\n  render() {\n    const setState = this.setState.bind(this);\n    console.log(\"FOO:\" + ls.get(\"bar\"));\n\n    if (ls.get(\"bar\") === null) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          style: {\n            backgroundColor: \"#99aab5\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(HeaderBar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row center-align\",\n            style: {\n              height: \"83vh\",\n              marginBottom: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(NavPane, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"column s10\",\n              children: [/*#__PURE__*/_jsxDEV(\"h7\", {\n                style: {\n                  color: \"#7289da\",\n                  backgroundColor: \"#23272a\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"WELCOME TO TWITCH\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 94\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: \"15%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"https://id.twitch.tv/oauth2/authorize?client_id=d2qvua62wbnmd2falukeg1lqdvefpq&response_type=code&redirect_uri=http://localhost:3000/twitchhome&scope=viewing_activity_read+openid&state=2nbx4f097i1zdy8f8cbq4henhzxw3q&claims={\\\"id_token\\\":{\\\"preferred_username\\\":null}}\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: {\n                      height: \"10vh\",\n                      width: \"30vh\",\n                      backgroundColor: \"#23272a\",\n                      paddingLeft: \"0px\",\n                      marginLeft: \"0vh\"\n                    },\n                    onClick: () => {\n                      this.setOnClick();\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      style: {\n                        color: \"#7289da\",\n                        paddingLeft: \"10%\"\n                      },\n                      children: \"LOGIN\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 58,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 57,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 37\n                }, this), console.log(\"FOOBAR: \" + ls.get(\"bar\"))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this);\n    } else if (ls.get(\"bar\") === 1) {\n      //parse BASE URI for code\n      var acode = document.body.baseURI;\n      var def = acode.split('?')[1];\n      def = '?' + def;\n      var searchParams = new URLSearchParams(def);\n      var access_code = searchParams.get(\"code\"); //axios call with code for access code\n\n      console.log(access_code);\n      var epurl = \"https://id.twitch.tv/oauth2/token?client_id=d2qvua62wbnmd2falukeg1lqdvefpq&client_secret=2nbx4f097i1zdy8f8cbq4henhzxw3q&code=\" + access_code + \"&grant_type=authorization_code&redirect_uri=http://localhost:3000/twitchhome\";\n\n      if (this.state.done === null) {\n        axios.post(epurl).then(res => {\n          setState({\n            done: true\n          });\n          const tk = JSON.parse(JSON.stringify(res.data));\n          setState({\n            atk: tk.access_token\n          });\n          console.log(\"TOKE: \" + this.state.atk);\n          console.log(\"RESDATA: \" + JSON.stringify(res.data));\n          ls.set(\"atoken\", tk.access_token);\n          var jwttoken = tk.id_token;\n          var jsonData = jwt_decode(jwttoken);\n          const parsedData = JSON.parse(JSON.stringify(jsonData));\n          const twitchuserid = parsedData.sub;\n          ls.set(\"twitchuserid\", twitchuserid);\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          style: {\n            backgroundColor: \"#99aab5\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(HeaderBar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row center-align\",\n            style: {\n              height: \"83vh\",\n              marginBottom: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(NavPane, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"column s10\",\n              children: [/*#__PURE__*/_jsxDEV(\"h7\", {\n                style: {\n                  color: \"#7289da\",\n                  backgroundColor: \"#23272a\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"WELCOME TO TWITCH\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 90\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: \"15%\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/twitchhome\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: {\n                      height: \"10vh\",\n                      width: \"30vh\",\n                      backgroundColor: \"#23272a\",\n                      paddingLeft: \"0px\",\n                      marginLeft: \"0vh\"\n                    },\n                    onClick: () => {\n                      this.setOnClickS1();\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      style: {\n                        color: \"#7289da\",\n                        paddingLeft: \"10%\"\n                      },\n                      children: \"CONFIRM\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 106,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 34\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this);\n    } else {\n      console.log(\"FINAL TOKEN: \" + ls.get(\"atoken\"));\n      this.state.local_access_token = ls.get(\"atoken\");\n      console.log(\"USERID: \" + ls.get(\"twitchuserid\"));\n      this.state.local_user_id = ls.get(\"twitchuserid\");\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          style: {\n            backgroundColor: \"#99aab5\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(HeaderBar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row center-align\",\n            style: {\n              height: \"83vh\",\n              marginBottom: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(NavPane, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this), this.state.showComponent ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-12 -dialog\",\n              style: {\n                position: \"absolute\",\n                display: \"block\",\n                overflow: \"hidden\",\n                zIndex: 1050,\n                webkitOverflowScrolling: \"touch\",\n                height: \"calc(100% - 14vh)\",\n                width: \"calc(100% - 20vh)\",\n                left: \"20vh\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modal-content -dialog\",\n                style: {\n                  height: \"100%\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"emdeb-responsive embed-responsive-16by9 z-depth-1-half\",\n                  style: {\n                    height: \"100%\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    style: {\n                      position: \"absolute\",\n                      display: \"block\",\n                      overflow: \"hidden\",\n                      zIndex: 1050,\n                      webkitOverflowScrolling: \"touch\",\n                      height: \"5vh\",\n                      width: \"15vh\",\n                      left: \"120vh\"\n                    },\n                    onClick: this.closeVideo,\n                    children: \"Close Video\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n                    className: \"embed-responsive-item\",\n                    src: this.state.url,\n                    allowFullScreen: true,\n                    frameBorder: 30,\n                    scrolling: \"no\",\n                    style: {\n                      height: \"100%\",\n                      width: \"calc(100% - 20vh)\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 33\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"column s10\",\n              children: [/*#__PURE__*/_jsxDEV(\"h7\", {\n                style: {\n                  color: \"#7289da\",\n                  backgroundColor: \"#23272a\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"WELCOME TO TWITCH\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 94\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(FollowedStreamers, {\n                acc_token: this.state.local_access_token,\n                uid: this.state.local_user_id,\n                openModal: this.playVideo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\n\nexport default TwitchHome;","map":{"version":3,"sources":["/Users/anuragsengupta/Desktop/CS-297P/GamersHubTesting/GamersHub/src/client/src/components/dashboard/TwitchHome.js"],"names":["axios","React","Component","HeaderBar","NavPane","jwt_decode","FollowedStreamers","ls","require","TwitchHome","constructor","state","buttonClicked","done","atk","local_access_token","local_user_id","showComponent","url","playVideo","bind","closeVideo","console","log","setState","setOnClick","document","body","baseURI","set","setOnClickS1","render","get","backgroundColor","height","marginBottom","color","marginTop","width","paddingLeft","marginLeft","acode","def","split","searchParams","URLSearchParams","access_code","epurl","post","then","res","tk","JSON","parse","stringify","data","access_token","jwttoken","id_token","jsonData","parsedData","twitchuserid","sub","catch","err","position","display","overflow","zIndex","webkitOverflowScrolling","left"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,iBAAP,MAA8B,uBAA9B;;AAEA,IAAIC,EAAE,GAAGC,OAAO,CAAC,eAAD,CAAhB;;AAEA,MAAMC,UAAN,SAAyBP,SAAzB,CAAmC;AAC/BQ,EAAAA,WAAW,GAAG;AACV;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,aAAa,EAAE,KADN;AAETC,MAAAA,IAAI,EAAE,IAFG;AAGTC,MAAAA,GAAG,EAAE,IAHI;AAITC,MAAAA,kBAAkB,EAAE,IAJX;AAKTC,MAAAA,aAAa,EAAE,IALN;AAMTC,MAAAA,aAAa,EAAC,KANL;AAOTC,MAAAA,GAAG,EAAC;AAPK,KAAb;AASA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAlB;AACH;;AACDD,EAAAA,SAAS,CAACD,GAAD,EAAK;AACVI,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,SAAKC,QAAL,CAAc;AAACP,MAAAA,aAAa,EAAC,IAAf;AAAqBC,MAAAA,GAAG,EAACA;AAAzB,KAAd;AACH;;AAEDG,EAAAA,UAAU,GAAE;AACR,SAAKG,QAAL,CAAc;AAACP,MAAAA,aAAa,EAAC;AAAf,KAAd;AACH;;AAEDQ,EAAAA,UAAU,GAAG;AACTH,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAeG,QAAQ,CAACC,IAAT,CAAcC,OAAzC;AACArB,IAAAA,EAAE,CAACsB,GAAH,CAAO,KAAP,EAAc,CAAd;AACA;AACH;;AACDC,EAAAA,YAAY,GAAG;AACXvB,IAAAA,EAAE,CAACsB,GAAH,CAAO,KAAP,EAAc,CAAd;AACA;AACH;;AACDE,EAAAA,MAAM,GAAG;AACL,UAAMP,QAAQ,GAAG,KAAKA,QAAL,CAAcJ,IAAd,CAAmB,IAAnB,CAAjB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAShB,EAAE,CAACyB,GAAH,CAAO,KAAP,CAArB;;AACA,QAAIzB,EAAE,CAACyB,GAAH,CAAO,KAAP,MAAkB,IAAtB,EAA4B;AACxB,0BACI;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,KAAf;AAAqB,UAAA,KAAK,EAAE;AAAEC,YAAAA,eAAe,EAAE;AAAnB,WAA5B;AAAA,kCACI,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAkC,YAAA,KAAK,EAAE;AAAEC,cAAAA,MAAM,EAAE,MAAV;AAAkBC,cAAAA,YAAY,EAAE;AAAhC,aAAzC;AAAA,oCACI,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAK,cAAA,SAAS,EAAC,YAAf;AAAA,sCACI;AAAI,gBAAA,KAAK,EAAE;AAAEC,kBAAAA,KAAK,EAAE,SAAT;AAAoBH,kBAAAA,eAAe,EAAE;AAArC,iBAAX;AAAA,uCAA6D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA7D;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAK,gBAAA,KAAK,EAAE;AAAEI,kBAAAA,SAAS,EAAE;AAAb,iBAAZ;AAAA,wCACI;AAAG,kBAAA,IAAI,EAAC,6QAAR;AAAA,yCACI;AAAQ,oBAAA,KAAK,EAAE;AAAEH,sBAAAA,MAAM,EAAE,MAAV;AAAkBI,sBAAAA,KAAK,EAAE,MAAzB;AAAiCL,sBAAAA,eAAe,EAAE,SAAlD;AAA6DM,sBAAAA,WAAW,EAAE,KAA1E;AAAiFC,sBAAAA,UAAU,EAAE;AAA7F,qBAAf;AAAqH,oBAAA,OAAO,EAAE,MAAM;AAAE,2BAAKf,UAAL;AAAkB,qBAAxJ;AAAA,2CACI;AAAG,sBAAA,KAAK,EAAE;AAAEW,wBAAAA,KAAK,EAAE,SAAT;AAAoBG,wBAAAA,WAAW,EAAE;AAAjC,uBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBADJ,EAMKjB,OAAO,CAACC,GAAR,CAAY,aAAahB,EAAE,CAACyB,GAAH,CAAO,KAAP,CAAzB,CANL;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ;AAqBH,KAtBD,MAsBO,IAAIzB,EAAE,CAACyB,GAAH,CAAO,KAAP,MAAkB,CAAtB,EAAyB;AAC5B;AACA,UAAIS,KAAK,GAAGf,QAAQ,CAACC,IAAT,CAAcC,OAA1B;AACA,UAAIc,GAAG,GAAGD,KAAK,CAACE,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAV;AACAD,MAAAA,GAAG,GAAG,MAAMA,GAAZ;AACA,UAAIE,YAAY,GAAG,IAAIC,eAAJ,CAAoBH,GAApB,CAAnB;AACA,UAAII,WAAW,GAAGF,YAAY,CAACZ,GAAb,CAAiB,MAAjB,CAAlB,CAN4B,CAO5B;;AACAV,MAAAA,OAAO,CAACC,GAAR,CAAYuB,WAAZ;AACA,UAAIC,KAAK,GAAG,kIACAD,WADA,GACc,8EAD1B;;AAEA,UAAI,KAAKnC,KAAL,CAAWE,IAAX,KAAoB,IAAxB,EAA8B;AAC9Bb,QAAAA,KAAK,CAACgD,IAAN,CAAWD,KAAX,EACCE,IADD,CACMC,GAAG,IAAE;AACP1B,UAAAA,QAAQ,CAAC;AAACX,YAAAA,IAAI,EAAC;AAAN,WAAD,CAAR;AACA,gBAAMsC,EAAE,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeJ,GAAG,CAACK,IAAnB,CAAX,CAAX;AACA/B,UAAAA,QAAQ,CAAC;AAACV,YAAAA,GAAG,EAACqC,EAAE,CAACK;AAAR,WAAD,CAAR;AACAlC,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAW,KAAKZ,KAAL,CAAWG,GAAlC;AACAQ,UAAAA,OAAO,CAACC,GAAR,CAAY,cAAc6B,IAAI,CAACE,SAAL,CAAeJ,GAAG,CAACK,IAAnB,CAA1B;AACAhD,UAAAA,EAAE,CAACsB,GAAH,CAAO,QAAP,EAAiBsB,EAAE,CAACK,YAApB;AACA,cAAIC,QAAQ,GAAGN,EAAE,CAACO,QAAlB;AACA,cAAIC,QAAQ,GAAGtD,UAAU,CAACoD,QAAD,CAAzB;AACA,gBAAMG,UAAU,GAAGR,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeK,QAAf,CAAX,CAAnB;AACA,gBAAME,YAAY,GAAGD,UAAU,CAACE,GAAhC;AACAvD,UAAAA,EAAE,CAACsB,GAAH,CAAO,cAAP,EAAuBgC,YAAvB;AACH,SAbD,EAcCE,KAdD,CAcOC,GAAG,IAAE;AAAC1C,UAAAA,OAAO,CAACC,GAAR,CAAYyC,GAAZ;AAAiB,SAd9B;AAeC;;AACD,0BACI;AAAA,+BACA;AAAK,UAAA,SAAS,EAAC,KAAf;AAAqB,UAAA,KAAK,EAAE;AAAE/B,YAAAA,eAAe,EAAE;AAAnB,WAA5B;AAAA,kCACI,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAkC,YAAA,KAAK,EAAE;AAAEC,cAAAA,MAAM,EAAE,MAAV;AAAkBC,cAAAA,YAAY,EAAE;AAAhC,aAAzC;AAAA,oCACI,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAK,cAAA,SAAS,EAAC,YAAf;AAAA,sCACI;AAAI,gBAAA,KAAK,EAAE;AAAEC,kBAAAA,KAAK,EAAE,SAAT;AAAoBH,kBAAAA,eAAe,EAAE;AAArC,iBAAX;AAAA,uCAA6D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA7D;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAK,gBAAA,KAAK,EAAE;AAAEI,kBAAAA,SAAS,EAAE;AAAb,iBAAZ;AAAA,uCACK;AAAG,kBAAA,IAAI,EAAC,aAAR;AAAA,yCACD;AAAQ,oBAAA,KAAK,EAAE;AAAEH,sBAAAA,MAAM,EAAE,MAAV;AAAkBI,sBAAAA,KAAK,EAAE,MAAzB;AAAiCL,sBAAAA,eAAe,EAAE,SAAlD;AAA6DM,sBAAAA,WAAW,EAAE,KAA1E;AAAiFC,sBAAAA,UAAU,EAAE;AAA7F,qBAAf;AAAqH,oBAAA,OAAO,EAAE,MAAM;AAAE,2BAAKV,YAAL;AAAoB,qBAA1J;AAAA,2CACY;AAAG,sBAAA,KAAK,EAAE;AAAEM,wBAAAA,KAAK,EAAE,SAAT;AAAoBG,wBAAAA,WAAW,EAAE;AAAjC,uBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADZ;AAAA;AAAA;AAAA;AAAA;AADC;AAAA;AAAA;AAAA;AAAA;AADL;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cADJ;AAqBH,KAjDM,MAiDA;AACHjB,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkBhB,EAAE,CAACyB,GAAH,CAAO,QAAP,CAA9B;AACA,WAAKrB,KAAL,CAAWI,kBAAX,GAAgCR,EAAE,CAACyB,GAAH,CAAO,QAAP,CAAhC;AACAV,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAahB,EAAE,CAACyB,GAAH,CAAO,cAAP,CAAzB;AACA,WAAKrB,KAAL,CAAWK,aAAX,GAA2BT,EAAE,CAACyB,GAAH,CAAO,cAAP,CAA3B;AACA,0BACI;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,KAAf;AAAqB,UAAA,KAAK,EAAE;AAAEC,YAAAA,eAAe,EAAE;AAAnB,WAA5B;AAAA,kCACI,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAkC,YAAA,KAAK,EAAE;AAAEC,cAAAA,MAAM,EAAE,MAAV;AAAkBC,cAAAA,YAAY,EAAE;AAAhC,aAAzC;AAAA,oCACI,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEK,KAAKxB,KAAL,CAAWM,aAAX,gBACG;AAAK,cAAA,SAAS,EAAC,mBAAf;AACK,cAAA,KAAK,EACA;AAACgD,gBAAAA,QAAQ,EAAC,UAAV;AAAsBC,gBAAAA,OAAO,EAAC,OAA9B;AAAuCC,gBAAAA,QAAQ,EAAC,QAAhD;AACGC,gBAAAA,MAAM,EAAE,IADX;AACiBC,gBAAAA,uBAAuB,EAAE,OAD1C;AAEGnC,gBAAAA,MAAM,EAAE,mBAFX;AAEgCI,gBAAAA,KAAK,EAAE,mBAFvC;AAE4DgC,gBAAAA,IAAI,EAAC;AAFjE,eAFV;AAAA,qCAKI;AAAK,gBAAA,SAAS,EAAC,uBAAf;AAAuC,gBAAA,KAAK,EAAE;AAACpC,kBAAAA,MAAM,EAAC;AAAR,iBAA9C;AAAA,uCACI;AAAK,kBAAA,SAAS,EAAC,wDAAf;AAAwE,kBAAA,KAAK,EAAE;AAACA,oBAAAA,MAAM,EAAC;AAAR,mBAA/E;AAAA,0CACI;AAAQ,oBAAA,KAAK,EAAE;AAAC+B,sBAAAA,QAAQ,EAAC,UAAV;AAAsBC,sBAAAA,OAAO,EAAC,OAA9B;AAAuCC,sBAAAA,QAAQ,EAAC,QAAhD;AACXC,sBAAAA,MAAM,EAAE,IADG;AACGC,sBAAAA,uBAAuB,EAAE,OAD5B;AAEXnC,sBAAAA,MAAM,EAAE,KAFG;AAEII,sBAAAA,KAAK,EAAE,MAFX;AAEmBgC,sBAAAA,IAAI,EAAC;AAFxB,qBAAf;AAEiD,oBAAA,OAAO,EAAE,KAAKjD,UAF/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAII;AAAQ,oBAAA,SAAS,EAAC,uBAAlB;AACQ,oBAAA,GAAG,EAAE,KAAKV,KAAL,CAAWO,GADxB;AAEQ,oBAAA,eAAe,EAAE,IAFzB;AAGQ,oBAAA,WAAW,EAAE,EAHrB;AAIQ,oBAAA,SAAS,EAAE,IAJnB;AAKQ,oBAAA,KAAK,EAAE;AAACgB,sBAAAA,MAAM,EAAC,MAAR;AAAgBI,sBAAAA,KAAK,EAAC;AAAtB;AALf;AAAA;AAAA;AAAA;AAAA,0BAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,oBADH,GAqBG,IAvBR,eAwBI;AAAK,cAAA,SAAS,EAAC,YAAf;AAAA,sCACI;AAAI,gBAAA,KAAK,EAAE;AAAEF,kBAAAA,KAAK,EAAE,SAAT;AAAoBH,kBAAAA,eAAe,EAAE;AAArC,iBAAX;AAAA,uCAA6D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA7D;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,iBAAD;AAAmB,gBAAA,SAAS,EAAE,KAAKtB,KAAL,CAAWI,kBAAzC;AAA6D,gBAAA,GAAG,EAAE,KAAKJ,KAAL,CAAWK,aAA7E;AAA4F,gBAAA,SAAS,EAAE,KAAKG;AAA5G;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAxBJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ;AAqCH;AACJ;;AAtJ8B;;AAwJnC,eAAeV,UAAf","sourcesContent":["import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport HeaderBar from './Header.js';\nimport NavPane from './NavPane.js';\nimport jwt_decode from \"jwt-decode\";\nimport FollowedStreamers from \"./FollowedCarousel.js\"\n\nvar ls = require('local-storage')\n\nclass TwitchHome extends Component {\n    constructor() {\n        super();\n        this.state = {\n            buttonClicked: false,\n            done: null,\n            atk: null,\n            local_access_token: null,\n            local_user_id: null,\n            showComponent:false,\n            url:null\n        }\n        this.playVideo = this.playVideo.bind(this)\n        this.closeVideo = this.closeVideo.bind(this)\n    }\n    playVideo(url){\n        console.log(\"Image clicked!\");\n        this.setState({showComponent:true, url:url});\n    }\n\n    closeVideo(){\n        this.setState({showComponent:false})\n    }\n\n    setOnClick() {\n        console.log(\"REDIRECT: \" + document.body.baseURI);\n        ls.set(\"bar\", 1);\n        return;\n    }\n    setOnClickS1() {\n        ls.set(\"bar\", 2);\n        return;\n    }\n    render() {  \n        const setState = this.setState.bind(this);\n        console.log(\"FOO:\" + ls.get(\"bar\"));\n        if (ls.get(\"bar\") === null) {\n            return (\n                <div >\n                    <div className=\"row\" style={{ backgroundColor: \"#99aab5\" }}>\n                        <HeaderBar></HeaderBar>\n                        <div className=\"row center-align\" style={{ height: \"83vh\", marginBottom: 0 }}>\n                            <NavPane></NavPane>\n                            <div className=\"column s10\">\n                                <h7 style={{ color: \"#7289da\", backgroundColor: \"#23272a\" }}><b>WELCOME TO TWITCH</b></h7>\n                                <div style={{ marginTop: \"15%\" }}>\n                                    <a href='https://id.twitch.tv/oauth2/authorize?client_id=d2qvua62wbnmd2falukeg1lqdvefpq&response_type=code&redirect_uri=http://localhost:3000/twitchhome&scope=viewing_activity_read+openid&state=2nbx4f097i1zdy8f8cbq4henhzxw3q&claims={\"id_token\":{\"preferred_username\":null}}'>\n                                        <button style={{ height: \"10vh\", width: \"30vh\", backgroundColor: \"#23272a\", paddingLeft: \"0px\", marginLeft: \"0vh\" }} onClick={() => { this.setOnClick()}}>\n                                            <b style={{ color: \"#7289da\", paddingLeft: \"10%\" }}>LOGIN</b>\n                                        </button>\n                                    </a>\n                                    {console.log(\"FOOBAR: \" + ls.get(\"bar\"))}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            );\n        } else if (ls.get(\"bar\") === 1) {\n            //parse BASE URI for code\n            var acode = document.body.baseURI;\n            var def = acode.split('?')[1];\n            def = '?' + def;\n            var searchParams = new URLSearchParams(def);\n            var access_code = searchParams.get(\"code\");\n            //axios call with code for access code\n            console.log(access_code);\n            var epurl = \"https://id.twitch.tv/oauth2/token?client_id=d2qvua62wbnmd2falukeg1lqdvefpq&client_secret=2nbx4f097i1zdy8f8cbq4henhzxw3q&code=\" +\n                        access_code + \"&grant_type=authorization_code&redirect_uri=http://localhost:3000/twitchhome\";\n            if (this.state.done === null) {\n            axios.post(epurl)\n            .then(res=>{\n                setState({done:true});\n                const tk = JSON.parse(JSON.stringify(res.data));\n                setState({atk:tk.access_token});\n                console.log(\"TOKE: \" + this.state.atk);\n                console.log(\"RESDATA: \" + JSON.stringify(res.data));\n                ls.set(\"atoken\", tk.access_token);\n                var jwttoken = tk.id_token;\n                var jsonData = jwt_decode(jwttoken);\n                const parsedData = JSON.parse(JSON.stringify(jsonData));\n                const twitchuserid = parsedData.sub;\n                ls.set(\"twitchuserid\", twitchuserid);\n            })\n            .catch(err=>{console.log(err)});\n            } \n            return(\n                <div >\n                <div className=\"row\" style={{ backgroundColor: \"#99aab5\" }}>\n                    <HeaderBar></HeaderBar>\n                    <div className=\"row center-align\" style={{ height: \"83vh\", marginBottom: 0 }}>\n                        <NavPane></NavPane>\n                        <div className=\"column s10\">\n                            <h7 style={{ color: \"#7289da\", backgroundColor: \"#23272a\" }}><b>WELCOME TO TWITCH</b></h7>\n                            <div style={{ marginTop: \"15%\" }}>\n                                {<a href='/twitchhome'>\n                                <button style={{ height: \"10vh\", width: \"30vh\", backgroundColor: \"#23272a\", paddingLeft: \"0px\", marginLeft: \"0vh\" }} onClick={() => { this.setOnClickS1()}}>\n                                            <b style={{ color: \"#7289da\", paddingLeft: \"10%\" }}>CONFIRM</b>\n                                </button>\n                                </a>}\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n            );\n        } else {\n            console.log(\"FINAL TOKEN: \" + ls.get(\"atoken\"));\n            this.state.local_access_token = ls.get(\"atoken\");\n            console.log(\"USERID: \" + ls.get(\"twitchuserid\"));\n            this.state.local_user_id = ls.get(\"twitchuserid\");\n            return (\n                <div >\n                    <div className=\"row\" style={{ backgroundColor: \"#99aab5\" }}>\n                        <HeaderBar></HeaderBar>\n                        <div className=\"row center-align\" style={{ height: \"83vh\", marginBottom: 0 }}>\n                            <NavPane></NavPane>\n                            {this.state.showComponent?\n                                <div className=\"col-lg-12 -dialog\"\n                                     style=\n                                         {{position:\"absolute\", display:\"block\", overflow:\"hidden\",\n                                             zIndex: 1050, webkitOverflowScrolling: \"touch\",\n                                             height: \"calc(100% - 14vh)\", width: \"calc(100% - 20vh)\", left:\"20vh\"}}>\n                                    <div className=\"modal-content -dialog\" style={{height:\"100%\"}}>\n                                        <div className=\"emdeb-responsive embed-responsive-16by9 z-depth-1-half\" style={{height:\"100%\"}}>\n                                            <button style={{position:\"absolute\", display:\"block\", overflow:\"hidden\",\n                                                zIndex: 1050, webkitOverflowScrolling: \"touch\",\n                                                height: \"5vh\", width: \"15vh\", left:\"120vh\"}} onClick={this.closeVideo}>Close Video</button>\n                                            <iframe className=\"embed-responsive-item\"\n                                                    src={this.state.url}\n                                                    allowFullScreen={true}\n                                                    frameBorder={30}\n                                                    scrolling={\"no\"}\n                                                    style={{height:\"100%\", width:\"calc(100% - 20vh)\"}}\n                                            ></iframe>\n                                        </div>\n                                    </div>\n                                </div>:\n                                null}\n                            <div className=\"column s10\">\n                                <h7 style={{ color: \"#7289da\", backgroundColor: \"#23272a\" }}><b>WELCOME TO TWITCH</b></h7>\n                                <FollowedStreamers acc_token={this.state.local_access_token} uid={this.state.local_user_id} openModal={this.playVideo}></FollowedStreamers>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n    }\n}\nexport default TwitchHome;"]},"metadata":{},"sourceType":"module"}